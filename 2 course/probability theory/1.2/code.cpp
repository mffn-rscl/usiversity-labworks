#include <iostream>
#include <iomanip>
// Завдання 1: Ймовірність виявити принаймні один бракований виріб, два браковані вироби та один якісний і один бракований.
void task1() {
    double p1 = 0.47; // ймовірність вибрати якісний виріб з першої партії
    double p2 = 0.71; // ймовірність вибрати якісний виріб з другої партії
    double q1 = 1 - p1; // ймовірність вибрати бракований виріб з першої партії
    double q2 = 1 - p2; // ймовірність вибрати бракований виріб з другої партії

    // a) Ймовірність, що серед них принаймні один бракований
    double P_a = 1 - (p1 * p2);
    std::cout << "Завдання 1 (а): Ймовірність виявити принаймні один бракований виріб: " << P_a << std::endl;

    // б) Ймовірність, що обидва вироби браковані
    double P_b = q1 * q2;
    std::cout << "Завдання 1 (б): Ймовірність виявити два браковані вироби: " << P_b << std::endl;

    // в) Ймовірність, що один якісний, один бракований
    double P_c = (p1 * q2) + (p2 * q1);
    std::cout << "Завдання 1 (в): Ймовірність виявити один якісний та один бракований виріб: " << P_c << std::endl;
}

// Завдання 2: Ймовірність того, що ціль не була уражена (жоден із снайперів не влучив).
void task2() {
    double p1 = 0.78; // ймовірність влучення першого снайпера
    double p2 = 0.37; // ймовірність влучення другого снайпера

    // Ймовірність, що кожен снайпер не влучить
    double q1 = 1 - p1;
    double q2 = 1 - p2;

    // Ймовірність, що перший снайпер не влучить за 2 постріли
    double noHit1 = q1 * q1;

    // Ймовірність, що другий снайпер не влучить за 3 постріли
    double noHit2 = q2 * q2 * q2;

    // Загальна ймовірність, що ціль не була уражена
    double P_noHit = noHit1 * noHit2;
    std::cout << "Завдання 2: Ймовірність того, що ціль не була уражена: " << P_noHit << std::endl;
}

// Завдання 3: Ймовірність вибрати браковану лампу з трьох партій.
void task3() {
    int n1 = 590, n2 = 210, n3 = 200;
    double p_broken1 = 0.06;
    double p_broken2 = 0.05;
    double p_broken3 = 0.04;

    // Загальна ймовірність вибору бракованої лампи
    double P_broken = (p_broken1 * n1 / 1000.0) + (p_broken2 * n2 / 1000.0) + (p_broken3 * n3 / 1000.0);
    std::cout << "Завдання 3: Ймовірність того, що вибрана лампа - бракована: " << P_broken << std::endl;
}

// Завдання 4: Ймовірність того, що куплений першосортний виріб випущено 2-м заводом.
void task4() {
    double P_A1 = 0.6;
    double P_A2 = 0.1;
    double P_A3 = 0.3;
    double P_B_given_A1 = 0.8;
    double P_B_given_A2 = 0.9;
    double P_B_given_A3 = 0.8;

    // Загальна ймовірність події B (вибраний виріб першосортний)
    double P_B = (P_B_given_A1 * P_A1) + (P_B_given_A2 * P_A2) + (P_B_given_A3 * P_A3);

    // Ймовірність того, що куплений виріб випущено 2-м заводом, якщо він першосортний
    double P_A2_given_B = (P_B_given_A2 * P_A2) / P_B;
    std::cout << "Завдання 4: Ймовірність того, що куплений першосортний виріб випущено 2-м заводом: " << P_A2_given_B << std::endl;
}

// Завдання 5: Надійність зв’язку з резервною лінією та ймовірність відмови системи.
void task5() {
    double p1 = 0.76; // надійність основної лінії
    double p2 = 0.62; // надійність резервної лінії

    // Надійність зв'язку з резервною лінією
    double reliability = 1 - (1 - p1) * (1 - p2);
    std::cout << "Завдання 5: Надійність зв’язку з резервною лінією: " << reliability << std::endl;

    // Ймовірність того, що система зв'язку відмовить
    double failure_probability = (1 - p1) * (1 - p2);
    std::cout << "Завдання 5: Ймовірність відмови системи: " << failure_probability << std::endl;
}

int main() {
    std::cout << std::fixed << std::setprecision(4); // Встановлення точності для виводу результатів
    task1();
    task2();
    task3();
    task4();
    task5();
    return 0;
}
